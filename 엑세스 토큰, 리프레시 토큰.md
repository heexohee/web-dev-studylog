## 엑세스 토큰이 한시간이 지나서 만료되어서 서버에서 인증된 엑세스 토큰 정보와 다를 경우?   	

1. 토큰 갱신 로직: 백엔드 개발자와 함께 토큰 갱신 로직을 정의해야 합니다. 어떤 상황에서 리프레시 토큰을 사용하여 엑세스 토큰을 갱신할지, 갱신에 실패한 경우 어떤 처리를 할지에 대한 로직을 명확하게 정의해야 합니다.
2. 보안 고려사항: 토큰 갱신 프로세스는 보안적으로 신중하게 처리되어야 합니다. 리프레시 토큰이 유출되었을 때의 대비책, 토큰 발급 시 클라이언트 신원 검증, 토큰 저장 방식 등 보안 측면에서의 요구사항을 고려해야 합니다.
3. 응답 형식 및 헤더: 리프레시 토큰을 사용하여 새로운 엑세스 토큰을 발급받는 경우, 백엔드와 협의하여 어떤 형식의 응답을 받을지, 헤더에 어떤 정보를 담아서 보낼지 등을 정의해야 합니다.
4. 에러 처리: 토큰 갱신 중에 발생할 수 있는 다양한 상황에 대한 에러 처리 방법을 백엔드와 협의하고 구현해야 합니다. 예를 들어, 리프레시 토큰이 만료된 경우, 잘못된 요청 등에 대한 적절한 에러 코드와 메시지를 반환하도록 해야 합니다.
5. 문서화: 토큰 갱신과 관련된 엔드포인트, 요청 형식, 응답 형식, 에러 코드 등을 문서화하여 개발자들이 이해하고 사용할 수 있도록 해야 합니다.
---

## Access / Refresh Token 재발급 원리

1. 기본적으로 로그인 같은 과정을 하면 Access Token과 Refresh Token을 모두 발급한다.

이때, Refresh Token만 서버측의 DB에 저장하며, Refresh Token과 Access Token을 쿠키 혹은 웹스토리지에 저장한다.

2. 사용자가 인증이 필요한 API에 접근하고자 하면, 가장 먼저 토큰을 검사한다.

이때, 토큰을 검사함과 동시에 각 경우에 대해서 토큰의 유효기간을 확인하여 재발급 여부를 결정한다.

case1 : access token과 refresh token 모두가 만료된 경우 → 에러 발생 (재 로그인하여 둘다 새로 발급)
case2 : access token은 만료됐지만, refresh token은 유효한 경우 →  refresh token을 검증하여 access token 재발급
case3 : access token은 유효하지만, refresh token은 만료된 경우 →  access token을 검증하여 refresh token 재발급
case4 : access token과 refresh token 모두가 유효한 경우 → 정상 처리

## [refresh token을 검증하여 access token 재발급]
클라이언트(쿠키, 웹스토리지)에 저장되어있는 refresh token과 서버 DB에 저장되어있는 refresh token 일치성을 확인한 뒤 access token 재발급한다.

## [access token을 검증하여 refresh token 재발급]
access token이 유효하다라는 것은 이미 인증된 것과 마찬가지니 바로 refresh token 재발급한다. 
